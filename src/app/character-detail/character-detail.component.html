<div *ngIf="loading">

  <app-loading></app-loading>
</div>


<div *ngIf="character" class="container mx-auto py-6 max-h-screen">
    <!-- Character and Devil Fruit information in a single row -->
    <div class="flex flex-col lg:flex-row space-y-6 lg:space-y-0 lg:space-x-6">
      <!-- Character Information -->
      <div class="bg-white rounded-lg shadow-lg p-4 flex-1 dark:bg-gray-800 max-h-full overflow-y-auto">
        <div>
          <h2 class="text-xl font-bold">{{ character.name }}</h2>
          <p class="text-xs text-dark mt-1"><strong>Status:</strong> {{ character.status }}</p>
          <p class="text-xs text-dark mt-1"><strong>Job:</strong> {{ character.job }}</p>
          <p class="text-xs text-dark mt-1"><strong>Size:</strong> {{ character.size }} m</p>
          <p class="text-xs text-dark mt-1"><strong>Age:</strong> {{ character.age }}</p>
          <p class="text-xs text-dark mt-1"><strong>Bounty:</strong> {{ character.bounty }}</p>
          <p class="text-xs text-dark mt-1"><strong>Devil Fruit:</strong> {{ character.fruit?.name ?? "Does not have" }}</p>
          <span class="{{ character.status === 'living' ? 'bg-green-700' : 'bg-red-700' }} rounded-xl mt-3 p-1 text-white inline-block">{{ character.status }}</span>
        </div>
      </div>
  
      <!-- Devil Fruit Information -->
      <div *ngIf="character.fruit" class="bg-white rounded-lg shadow-lg p-4 flex-1 dark:bg-gray-800 max-h-full overflow-y-auto">
        <h3 class="text-lg font-bold mb-2">Devil Fruit</h3>
        <div class="flex items-center">
          <img [src]="character.fruit?.filename" alt="{{ character.fruit?.name }}" class="w-16 h-16 object-cover rounded-full shadow-md mr-2">
          <div>
            <h4 class="text-sm font-semibold">{{ character.fruit?.name }}</h4>
            <div class="badge mb-1 text-white px-1 py-0.5 rounded text-xs" [ngClass]="getColorByFruitType(character.fruit?.type ?? '')">
              {{ character.fruit?.type }}
            </div>
            <p class="text-xs mt-1">{{ character.fruit?.description }}</p>
          </div>
        </div>
      </div>
    </div>
  
    <!-- Crew Information -->
    <div *ngIf="character.crew" class="bg-white rounded-lg shadow-lg p-4 mt-4 dark:bg-gray-800 max-h-full overflow-y-auto">
      <h3 class="text-lg font-bold mb-2">Crew</h3>
      <div >
        <h4 class="text-sm font-semibold">{{ character.crew?.name }}</h4>
        <p class="text-xs text-dark mt-1"><strong>Status:</strong> {{ character.crew?.status }}</p>
        <p class="text-xs text-dark mt-1"><strong>Roman Name:</strong> {{ character.crew?.roman_name }}</p>
        <p class="text-xs text-dark mt-1"><strong>Price:</strong> {{ character.crew?.total_prime }}</p>
        <p class="text-xs text-dark mt-1"><strong>Number:</strong> {{ character.crew?.number }}</p>
        <p class="text-xs text-dark mt-1"><strong>yonko:</strong> {{ character.crew?.is_yonko }}</p>
  
        <!-- Crew Member List -->
        <div class="grid grid-cols-2 gap-2 mt-2">
          <!--
            <div *ngFor="let member of character.crew.members" class="p-1 border rounded-lg shadow-sm">
                <h5 class="text-xs font-semibold">{{ member.name }}</h5>
                <p class="text-xxs text-dark"><strong>Role:</strong> {{ member.role }}</p>
            </div>
            -->
        </div>
      </div>
    </div>
  </div>